spring.application.name=chatapp-backend

# --- PostgreSQL Settings (Railway auto-provides DATABASE_URL) ---
spring.jpa.properties.hibernate.format_sql=false
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.PostgreSQLDialect
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/chatapp?useSSL=false&serverTimezone=UTC&useLegacyDatetimeCode=false}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:1622}
spring.datasource.driver-class-name=org.postgresql.Driver


# --- H2 Settings ---
#spring.datasource.url=jdbc:h2:mem:testdb
#spring.datasource.driverClassName=org.h2.Driver
#spring.datasource.username=sa
#spring.datasource.password=password
#spring.h2.console.enabled=true
#spring.h2.console.path=/h2-console
#spring.h2.console.settings.trace=false
#spring.h2.console.settings.web-allow-others=false


#spring.sql.init.mode=always
spring.jpa.defer-datasource-initialization=true
spring.jpa.hibernate.ddl-auto=update
spring.jpa.show-sql=false

# Server Port (Railway sets PORT automatically)
server.port=${PORT:8080}

# JWT Secret (use environment variable in production)
jwt.secret=${JWT_SECRET:your-super-secret-key-at-least-32-characters-long-for-production}

# CORS Settings (Railway/Vercel URLs)
cors.allowed.origins=${CORS_ORIGINS:http://localhost:5173,http://localhost:3000}

# File Upload Settings
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=50MB
spring.servlet.multipart.max-request-size=50MB
file.upload-dir=${UPLOAD_DIR:uploads}

# Enable Scheduling for OTP cleanup
spring.task.scheduling.enabled=true
